<!--
RewardDemoView ã®è²¬å‹™:
- ãƒ‡ãƒ¢ç”¨ã®å ±é…¬ãƒ‡ãƒ¼ã‚¿ã‚’ rewardStore ã«ã‚»ãƒƒãƒˆã—ã€/reward ã¸é·ç§»ã§ãã‚‹å°ç·šã‚’æä¾›ã™ã‚‹ã€‚
- æœ¬ç•ªã®å‹åˆ©è¨ˆç®—ã¯è¡Œã‚ãšã€å›ºå®šã®å ±é…¬å†…å®¹ã‚’ã‚»ãƒƒãƒˆã™ã‚‹ã€‚
-->
<script setup lang="ts">
import { useRouter } from 'vue-router'
import GameLayout from '@/components/GameLayout.vue'
import { useRewardStore, type PendingReward } from '@/stores/rewardStore'

const router = useRouter()
const rewardStore = useRewardStore()

const demoReward: PendingReward = {
  battleId: 'demo-battle',
  hpHeal: 30,
  gold: 50,
  defeatedCount: 1,
  cards: [
    {
      id: 'demo-card-1',
      deckType: 'heaven-chain',
      info: {
        id: 'demo-card-1',
        title: 'å¤©ã®é–',
        type: 'skill',
        cost: 1,
        illustration: 'ğŸ‚ ',
        description: 'ã“ã®ã‚¿ãƒ¼ãƒ³è¡Œå‹•ãŒå¢—ãˆã‚‹',
        attackStyle: undefined,
        damageAmount: undefined,
        damageCount: undefined,
        primaryTags: [],
        effectTags: [],
        categoryTags: [],
        affordable: true,
        disabled: false,
      },
    },
    {
      id: 'demo-card-2',
      deckType: 'battle-prep',
      info: {
        id: 'demo-card-2',
        title: 'æˆ¦ã„ã®æº–å‚™',
        type: 'skill',
        cost: 1,
        illustration: 'ğŸ‚ ',
        description: 'æ¬¡ã®ã‚¿ãƒ¼ãƒ³é–‹å§‹æ™‚ãƒãƒŠ+1',
        attackStyle: undefined,
        damageAmount: undefined,
        damageCount: undefined,
        primaryTags: [],
        effectTags: [],
        categoryTags: [],
        affordable: true,
        disabled: false,
      },
    },
    {
      id: 'demo-card-3',
      deckType: 'tackle',
      info: {
        id: 'demo-card-3',
        title: 'ãŸã„ã‚ãŸã‚Š',
        type: 'attack',
        cost: 1,
        illustration: 'ğŸ‚ ',
        description: '',
        attackStyle: 'single',
        damageAmount: 20,
        damageCount: 1,
        primaryTags: [],
        effectTags: [],
        categoryTags: [],
        affordable: true,
        disabled: false,
      },
    },
  ],
}

function setRewardAndGo(): void {
  rewardStore.setReward(demoReward)
  router.push('/reward')
}
</script>

<template>
  <GameLayout>
    <template #window>
      <div class="reward-demo">
        <h1>Reward Demo</h1>
        <p>ãƒ‡ãƒ¢ç”¨ã®å ±é…¬ãƒ‡ãƒ¼ã‚¿ã‚’ã‚»ãƒƒãƒˆã—ã€å ±é…¬ç”»é¢ã¸é·ç§»ã—ã¾ã™ã€‚</p>
        <button type="button" class="reward-button" @click="setRewardAndGo">å ±é…¬ç”»é¢ã¸</button>
      </div>
    </template>
  </GameLayout>
</template>

<style scoped>
.reward-demo {
  padding: 32px clamp(20px, 5vw, 64px);
  color: #f5f2ff;
  min-height: 100vh;
}

.reward-button {
  background: rgba(255, 227, 115, 0.95);
  color: #2d1a0f;
  border: none;
  border-radius: 10px;
  padding: 10px 18px;
  font-weight: 800;
  cursor: pointer;
}
</style>
