現在、フロントにある「戦闘開始からやり直す」「一手戻す」ボタンには、以下の問題があります。

# 既知の課題
- すでに戦闘開始直後に戻っている時でも、「戦闘開始からやり直す」ボタンを押すことができる
- 「戦闘開始からやり直す」ボタンを押すと、戦闘の初期設定が変わってしまう
- 「戦闘開始からやり直す」「一手戻す」などを使ったあとだと、アニメーションの再生の結果が変わってしまう

# 修正手段
以下の修正手段を検討しています
- OperationLogEntryの一番最初の行として、最初のEnemyActionQueueの初期化処理(乱数を使った敵の最初の行動の決定)や、デッキのシャッフルなどは完了した状態のBattleの複製を登録しておく
- 「戦闘開始からやり直す」ボタンは、上記のBattleの複製から再開する

# 命令
「戦闘開始からやり直す」「一手戻す」などを使ったあとだと、アニメーションの再生の結果が変わってしまうのはなぜですか？考えられる原因を教えてください
↑のような設計は実装可能そうですか？　検討し、不明点や懸念点を上げてください。