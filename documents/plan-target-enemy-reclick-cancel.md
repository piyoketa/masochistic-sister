## TargetEnemyOperation中の再クリックキャンセル計画

### 背景・課題
- 敵選択が必要なカードをクリックすると TargetEnemyOperation 待機に入り、キャンセルは右クリック（contextmenu）に限定されている。
- 同じカードを誤って再クリックするとキャンセルできず、既存の敵選択 Promise との二重要求でエラー（「敵選択が既に進行中です」）が出たり、操作が続行できなくなる。
- 右クリックと同等に左クリック再入力でもキャンセルできるようにして、操作性と分かりやすさを高めたい。

### 目的
- TargetEnemyOperation 待機中に選択中カードを再クリックした際、右クリックと同じキャンセルフロー（敵選択リクエストの reject、選択状態/フッター/ヒントのリセット）を走らせる。

### 変更方針
1. `useHandInteraction.handleCardClick` にガードを追加し、`isAwaitingEnemy` かつ `selectedCardKey` が同一のカードを再クリックした場合は `cancelSelection` を即時実行して以降の処理を止める。
2. `cancelSelection` が敵選択のキャンセル（`cancelEnemySelection`）と手札選択リセットを共通で行っているので、ここを経由して右クリックと同一の副作用（hintクリア、footerリセット、選択テーマ初期化）を担保する。
3. UI 文言が必要ならフッターやバナーの案内を「右クリックまたはカード再クリックでキャンセル」に更新する（要確認）。
4. 既存機能への副作用がないことを確認し、不要コードがあれば整理する。

### タスク
- [ ] 現行の選択〜キャンセルフローを再確認（`useHandInteraction` と `BattleView` の cancel 系）し、再クリック経由でも同一パスを使えるかを確認。
- [ ] `handleCardClick` に再クリック検知と `cancelSelection` 呼び出しを追加し、二重の `requestEnemyTarget` 呼び出しを防ぐ。
- [ ] フッター/バナー文言の更新要否に応じて調整する。
- [ ] テスト追加：`src/views/__tests__/BattleView.spec.ts` で、敵選択中に同じカードを再クリックするとキャンセルされ、`queuePlayerAction` が呼ばれず選択状態が解除されることを確認する。

### 不明点・要確認
- 再クリックキャンセルの適用範囲: **敵選択中のみ**でよいか、それとも手札選択（SelectHandCardOperation）や山札選択でも再クリックでキャンセルさせたいか。  
  - 案B: 手札/山札選択など他の選択待ちにも再クリックキャンセルを広げる。  
- UI 案内: 敵選択中のフッター文言に「カード再クリックでキャンセル」を追記するか。  
  - 案B: 文言は現状維持（隠しショートカット扱い）。  

問題なければこの計画で進めます。
